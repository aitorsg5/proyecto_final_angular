<div *ngIf="loading">Cargando cestas...</div>
<div *ngIf="error">{{ error }}</div>

<div *ngIf="!loading && !error && cestas.length === 0">
  <p>No hay elementos en la cesta.</p>
</div>

<div *ngIf="!loading && !error && cestas.length > 0">
  <h2>Tu cesta</h2>

  <div *ngFor="let cesta of cestas" class="cesta-card">
    <h3>{{ cesta.coche?.nombre || 'Coche no disponible' }}</h3>
    <img
      [src]="cesta.coche?.imagenes_ruta?.[0] || 'assets/default.jpg'"
      alt="Imagen del coche"
      width="200"
    />

    <p><strong>Kit:</strong> {{ cesta.kit?.paquete || 'N/A' }}</p>
    <p><strong>Caja:</strong> {{ cesta.caja?.tipo || 'N/A' }}</p>
    <p><strong>Motor:</strong> {{ cesta.motor?.motor || 'N/A' }}</p>
    <p><strong>Precio Total:</strong> {{ cesta.precio_total }} â‚¬</p>

    <button *ngIf="cesta.id" (click)="eliminarCesta(cesta.id)">Eliminar</button>
  </div>
</div>
