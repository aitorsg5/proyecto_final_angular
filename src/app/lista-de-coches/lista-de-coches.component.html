<app-cabecera></app-cabecera>

<div class="main-container">
  <aside class="sidebar">
    <h2>Todos los modelos</h2>

    <div class="filter-section">
      <h3>Modelo</h3>
      <div class="button-group">
        <button (click)="filtrarPorModelo('Todos')" [class.active]="currentModelFilter === 'Todos'">Todos</button>
        <button
          *ngFor="let modelo of modelosUnicos"
          (click)="filtrarPorModelo(modelo)"
          [class.active]="currentModelFilter === modelo"
        >
          {{ modelo }}
        </button>
      </div>
    </div>

    </aside>

  <main class="modelos-display">
    <div class="car-gallery">
      <div *ngIf="cochesFiltrados.length === 0" class="no-results">
        No se encontraron coches con los filtros seleccionados.
      </div>
      <div *ngFor="let coche of cochesFiltrados" class="modelo-card" (click)="irConfiguracion(coche.id)">
        <img
          [src]="
            coche.imagenes_ruta && coche.imagenes_ruta.length > 0
              ? baseImageUrl + coche.imagenes_ruta[0]
              : 'assets/default.jpg'
          "
          [alt]="coche.nombre"
        />
        <h3>{{ coche.nombre }}</h3>
        <p><strong>Modelo:</strong> {{ coche.modelo?.nombre }}</p>
        <p class="price">{{ coche.precio_total | currency : 'EUR' }}</p>
        <div class="card-actions">
          <button class="btn-discover">Descubrir</button>
          <button class="btn-configure">Configurar</button>
        </div>
        </div>
    </div>
  </main>
</div>

<app-footer></app-footer>
